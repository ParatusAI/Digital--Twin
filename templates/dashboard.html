
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CsPbBr‚ÇÉ Digital Twin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .panel h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        .btn {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        .btn:hover {
            background: #5a6fd8;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        .prediction-result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #667eea;
            background: #f8f9fa;
        }
        .suggestion-item {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            background: #fff;
        }
        .priority-high {
            border-left: 4px solid #dc3545;
        }
        .priority-medium {
            border-left: 4px solid #ffc107;
        }
        .priority-low {
            border-left: 4px solid #28a745;
        }
        .status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        .status-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .status-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
        }
        .tab {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .tab.active {
            background: white;
            border-bottom: 1px solid white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .validation-plot {
            text-align: center;
            margin: 20px 0;
        }
        .validation-plot img {
            max-width: 100%;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .loading {
            text-align: center;
            color: #667eea;
            font-style: italic;
        }
        .error {
            color: #dc3545;
            background: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            color: #155724;
            background: #d4edda;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß¨ CsPbBr‚ÇÉ Digital Twin Dashboard</h1>
            <p>AI-Powered Perovskite Synthesis Prediction & Optimization</p>
        </div>

        <!-- Status Overview -->
        <div class="status-grid">
            <div class="status-card">
                <div class="status-value" id="total-experiments">0</div>
                <div>Total Experiments</div>
            </div>
            <div class="status-card">
                <div class="status-value" id="phase-accuracy">0%</div>
                <div>Phase Accuracy</div>
            </div>
            <div class="status-card">
                <div class="status-value" id="mean-confidence">0.0</div>
                <div>Mean Confidence</div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="tabs">
            <div class="tab active" onclick="showTab('prediction')">üîÆ Prediction</div>
            <div class="tab" onclick="showTab('suggestions')">ü§ñ AI Suggestions</div>
            <div class="tab" onclick="showTab('optimization')">üéØ Optimization</div>
            <div class="tab" onclick="showTab('validation')">üìä Validation</div>
            <div class="tab" onclick="showTab('record')">üìù Record Results</div>
        </div>

        <!-- Prediction Tab -->
        <div id="prediction-tab" class="tab-content active">
            <div class="dashboard-grid">
                <div class="panel">
                    <h3>üß™ Synthesis Conditions</h3>
                    <div class="form-group">
                        <label>Cs-Br Concentration (mol/L)</label>
                        <input type="number" id="cs-concentration" value="1.1" step="0.1" min="0.1" max="3.0">
                    </div>
                    <div class="form-group">
                        <label>Pb-Br‚ÇÇ Concentration (mol/L)</label>
                        <input type="number" id="pb-concentration" value="1.1" step="0.1" min="0.1" max="3.0">
                    </div>
                    <div class="form-group">
                        <label>Temperature (¬∞C)</label>
                        <input type="number" id="temperature" value="190" step="10" min="80" max="300">
                    </div>
                    <div class="form-group">
                        <label>Oleic Acid (mol/L)</label>
                        <input type="number" id="oa-concentration" value="0.4" step="0.1" min="0.0" max="2.0">
                    </div>
                    <div class="form-group">
                        <label>Oleylamine (mol/L)</label>
                        <input type="number" id="oam-concentration" value="0.2" step="0.1" min="0.0" max="1.0">
                    </div>
                    <div class="form-group">
                        <label>Reaction Time (minutes)</label>
                        <input type="number" id="reaction-time" value="75" step="5" min="5" max="200">
                    </div>
                    <div class="form-group">
                        <label>Solvent</label>
                        <select id="solvent-type">
                            <option value="0">DMSO</option>
                            <option value="1">DMF</option>
                            <option value="2">Toluene</option>
                            <option value="3">Octadecene</option>
                            <option value="4">Mixed</option>
                        </select>
                    </div>
                    <button class="btn" onclick="makePrediction()">üîÆ Predict Outcome</button>
                </div>

                <div class="panel">
                    <h3>üìä Prediction Results</h3>
                    <div id="prediction-results">
                        <p class="loading">Enter synthesis conditions and click "Predict Outcome" to see results.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Suggestions Tab -->
        <div id="suggestions-tab" class="tab-content">
            <div class="panel">
                <h3>ü§ñ AI-Powered Experiment Suggestions</h3>
                <div style="margin-bottom: 20px;">
                    <label>Strategy:</label>
                    <select id="suggestion-strategy" style="margin: 0 10px;">
                        <option value="mixed">Mixed (Recommended)</option>
                        <option value="uncertainty">Uncertainty-Based</option>
                        <option value="bayesian">Bayesian Optimization</option>
                        <option value="diversity">Diversity Exploration</option>
                    </select>
                    
                    <label>Number of Suggestions:</label>
                    <input type="number" id="num-suggestions" value="3" min="1" max="10" style="width: 60px; margin: 0 10px;">
                    
                    <button class="btn" onclick="getSuggestions()">üéØ Generate Suggestions</button>
                </div>
                <div id="suggestions-results"></div>
            </div>
        </div>

        <!-- Optimization Tab -->
        <div id="optimization-tab" class="tab-content">
            <div class="panel">
                <h3>üéØ Synthesis Optimization</h3>
                <div style="margin-bottom: 20px;">
                    <label>Optimization Objective:</label>
                    <select id="optimization-objective" style="margin: 0 10px;">
                        <option value="cspbbr3_probability">CsPbBr‚ÇÉ 3D Probability</option>
                        <option value="confidence">Prediction Confidence</option>
                        <option value="bandgap">Target Bandgap</option>
                        <option value="plqy">PLQY Maximization</option>
                    </select>
                    
                    <label>Method:</label>
                    <select id="optimization-method" style="margin: 0 10px;">
                        <option value="bayesian">Bayesian Optimization</option>
                        <option value="grid">Grid Search</option>
                    </select>
                    
                    <button class="btn" onclick="runOptimization()">‚ö° Optimize</button>
                </div>
                <div id="optimization-results"></div>
            </div>
        </div>

        <!-- Validation Tab -->
        <div id="validation-tab" class="tab-content">
            <div class="panel">
                <h3>üìä Model Validation Analysis</h3>
                <button class="btn" onclick="loadValidationPlots()">üìà Generate Validation Plots</button>
                <div id="validation-plots"></div>
            </div>
        </div>

        <!-- Record Results Tab -->
        <div id="record-tab" class="tab-content">
            <div class="dashboard-grid">
                <div class="panel">
                    <h3>üß™ Experiment Conditions</h3>
                    <div class="form-group">
                        <label>Researcher Name</label>
                        <input type="text" id="researcher-name" placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label>Cs-Br Concentration (mol/L)</label>
                        <input type="number" id="record-cs-concentration" step="0.1" min="0.1" max="3.0">
                    </div>
                    <div class="form-group">
                        <label>Pb-Br‚ÇÇ Concentration (mol/L)</label>
                        <input type="number" id="record-pb-concentration" step="0.1" min="0.1" max="3.0">
                    </div>
                    <div class="form-group">
                        <label>Temperature (¬∞C)</label>
                        <input type="number" id="record-temperature" step="10" min="80" max="300">
                    </div>
                    <div class="form-group">
                        <label>Oleic Acid (mol/L)</label>
                        <input type="number" id="record-oa-concentration" step="0.1" min="0.0" max="2.0">
                    </div>
                    <div class="form-group">
                        <label>Oleylamine (mol/L)</label>
                        <input type="number" id="record-oam-concentration" step="0.1" min="0.0" max="1.0">
                    </div>
                    <div class="form-group">
                        <label>Reaction Time (minutes)</label>
                        <input type="number" id="record-reaction-time" step="5" min="5" max="200">
                    </div>
                    <div class="form-group">
                        <label>Solvent</label>
                        <select id="record-solvent-type">
                            <option value="0">DMSO</option>
                            <option value="1">DMF</option>
                            <option value="2">Toluene</option>
                            <option value="3">Octadecene</option>
                            <option value="4">Mixed</option>
                        </select>
                    </div>
                </div>

                <div class="panel">
                    <h3>üìä Experimental Results</h3>
                    <div class="form-group">
                        <label>Dominant Phase</label>
                        <select id="dominant-phase">
                            <option value="CsPbBr3_3D">CsPbBr‚ÇÉ 3D</option>
                            <option value="Cs4PbBr6_0D">Cs‚ÇÑPbBr‚ÇÜ 0D</option>
                            <option value="CsPb2Br5_2D">CsPb‚ÇÇBr‚ÇÖ 2D</option>
                            <option value="Mixed">Mixed Phases</option>
                            <option value="Failed">Failed Synthesis</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Phase Purity (0-1)</label>
                        <input type="number" id="phase-purity" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>Synthesis Success</label>
                        <select id="synthesis-success">
                            <option value="true">Success</option>
                            <option value="false">Failed</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Bandgap (eV) - Optional</label>
                        <input type="number" id="bandgap" step="0.01" min="0" max="5">
                    </div>
                    <div class="form-group">
                        <label>PLQY (0-1) - Optional</label>
                        <input type="number" id="plqy" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>Particle Size (nm) - Optional</label>
                        <input type="number" id="particle-size" step="0.1" min="0" max="1000">
                    </div>
                    <div class="form-group">
                        <label>Emission Peak (nm) - Optional</label>
                        <input type="number" id="emission-peak" step="1" min="400" max="700">
                    </div>
                    <div class="form-group">
                        <label>Solution Color</label>
                        <input type="text" id="solution-color" placeholder="e.g., bright green">
                    </div>
                    <div class="form-group">
                        <label>Notes</label>
                        <textarea id="experiment-notes" rows="3" style="width: 100%; padding: 8px;"></textarea>
                    </div>
                    <button class="btn btn-success" onclick="recordExperiment()">üíæ Record Experiment</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize dashboard
        $(document).ready(function() {
            loadValidationStatus();
        });

        function showTab(tabName) {
            // Hide all tab contents
            $('.tab-content').removeClass('active');
            $('.tab').removeClass('active');
            
            // Show selected tab
            $('#' + tabName + '-tab').addClass('active');
            event.target.classList.add('active');
        }

        function makePrediction() {
            const conditions = {
                cs_concentration: $('#cs-concentration').val(),
                pb_concentration: $('#pb-concentration').val(),
                temperature: $('#temperature').val(),
                oa_concentration: $('#oa-concentration').val(),
                oam_concentration: $('#oam-concentration').val(),
                reaction_time: $('#reaction-time').val(),
                solvent_type: $('#solvent-type').val()
            };

            $('#prediction-results').html('<p class="loading">Making prediction...</p>');

            $.ajax({
                url: '/predict',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(conditions),
                success: function(response) {
                    if (response.success) {
                        displayPredictionResults(response);
                    } else {
                        $('#prediction-results').html('<div class="error">Error: ' + response.error + '</div>');
                    }
                },
                error: function() {
                    $('#prediction-results').html('<div class="error">Network error occurred</div>');
                }
            });
        }

        function displayPredictionResults(response) {
            const prediction = response.prediction;
            const recommendation = response.recommendation;
            
            let html = `
                <div class="prediction-result">
                    <h4>üéØ Predicted Outcome</h4>
                    <p><strong>Phase:</strong> ${prediction.predicted_phase}</p>
                    <p><strong>Confidence:</strong> ${(prediction.confidence * 100).toFixed(1)}%</p>
                    
                    <h5>Phase Probabilities:</h5>
                    <ul>
                        <li>CsPbBr‚ÇÉ 3D: ${(prediction.phase_probabilities[0] * 100).toFixed(1)}%</li>
                        <li>Cs‚ÇÑPbBr‚ÇÜ 0D: ${(prediction.phase_probabilities[1] * 100).toFixed(1)}%</li>
                        <li>CsPb‚ÇÇBr‚ÇÖ 2D: ${(prediction.phase_probabilities[2] * 100).toFixed(1)}%</li>
                        <li>Mixed: ${(prediction.phase_probabilities[3] * 100).toFixed(1)}%</li>
                        <li>Failed: ${(prediction.phase_probabilities[4] * 100).toFixed(1)}%</li>
                    </ul>
            `;
            
            if (prediction.has_uncertainty) {
                html += `
                    <h5>Predicted Properties (with uncertainty):</h5>
                    <ul>
                `;
                for (const [prop, stats] of Object.entries(prediction.properties)) {
                    html += `<li>${prop}: ${stats.mean.toFixed(3)} ¬± ${stats.std.toFixed(3)}</li>`;
                }
                html += '</ul>';
            }
            
            html += `
                    <h5>üí° Recommendations:</h5>
                    <ul>
            `;
            for (const rec of recommendation.recommendations) {
                html += `<li>${rec}</li>`;
            }
            html += '</ul>';
            
            if (recommendation.warnings.length > 0) {
                html += `<h5>‚ö†Ô∏è Warnings:</h5><ul>`;
                for (const warning of recommendation.warnings) {
                    html += `<li>${warning}</li>`;
                }
                html += '</ul>';
            }
            
            html += `
                    <p><strong>Overall Assessment:</strong> ${recommendation.overall_assessment}</p>
                </div>
            `;
            
            $('#prediction-results').html(html);
        }

        function getSuggestions() {
            const strategy = $('#suggestion-strategy').val();
            const numSuggestions = $('#num-suggestions').val();
            
            $('#suggestions-results').html('<p class="loading">Generating AI suggestions...</p>');
            
            $.ajax({
                url: '/suggest_experiments',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    strategy: strategy,
                    num_suggestions: parseInt(numSuggestions)
                }),
                success: function(response) {
                    if (response.success) {
                        displaySuggestions(response.suggestions);
                    } else {
                        $('#suggestions-results').html('<div class="error">Error: ' + response.error + '</div>');
                    }
                },
                error: function() {
                    $('#suggestions-results').html('<div class="error">Network error occurred</div>');
                }
            });
        }

        function displaySuggestions(suggestions) {
            let html = '<h4>üéØ Recommended Experiments:</h4>';
            
            for (const suggestion of suggestions) {
                html += `
                    <div class="suggestion-item priority-${suggestion.priority}">
                        <h5>Experiment ${suggestion.id}</h5>
                        <p><strong>Priority:</strong> ${suggestion.priority.charAt(0).toUpperCase() + suggestion.priority.slice(1)}</p>
                        <p><strong>Predicted:</strong> ${suggestion.predicted_phase} (confidence: ${(suggestion.confidence * 100).toFixed(1)}%)</p>
                        <p><strong>Rationale:</strong> ${suggestion.rationale}</p>
                        
                        <h6>Conditions:</h6>
                        <ul>
                            <li>Cs-Br: ${suggestion.conditions.cs_br_concentration.toFixed(2)} mol/L</li>
                            <li>Pb-Br‚ÇÇ: ${suggestion.conditions.pb_br2_concentration.toFixed(2)} mol/L</li>
                            <li>Temperature: ${suggestion.conditions.temperature.toFixed(0)}¬∞C</li>
                            <li>OA: ${suggestion.conditions.oa_concentration.toFixed(2)} mol/L</li>
                            <li>OAm: ${suggestion.conditions.oam_concentration.toFixed(2)} mol/L</li>
                            <li>Time: ${suggestion.conditions.reaction_time.toFixed(0)} min</li>
                            <li>Solvent: ${['DMSO', 'DMF', 'Toluene', 'Octadecene', 'Mixed'][suggestion.conditions.solvent_type]}</li>
                        </ul>
                        
                        <button class="btn btn-success" onclick="useSuggestion('${suggestion.id}')">üìã Use This Suggestion</button>
                    </div>
                `;
            }
            
            $('#suggestions-results').html(html);
        }

        function useSuggestion(suggestionId) {
            // Find suggestion and populate prediction tab
            // This would need more implementation to actually populate the form
            showTab('prediction');
            alert('Suggestion loaded! Check the prediction tab.');
        }

        function runOptimization() {
            const objective = $('#optimization-objective').val();
            const method = $('#optimization-method').val();
            
            $('#optimization-results').html('<p class="loading">Running optimization...</p>');
            
            $.ajax({
                url: '/optimization',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    objective: objective,
                    method: method
                }),
                success: function(response) {
                    if (response.success) {
                        displayOptimizationResults(response);
                    } else {
                        $('#optimization-results').html('<div class="error">Error: ' + response.error + '</div>');
                    }
                },
                error: function() {
                    $('#optimization-results').html('<div class="error">Network error occurred</div>');
                }
            });
        }

        function displayOptimizationResults(response) {
            const conditions = response.optimal_conditions;
            const prediction = response.prediction;
            
            let html = `
                <div class="prediction-result">
                    <h4>üéØ Optimized Conditions</h4>
                    <p><strong>Method:</strong> ${response.method}</p>
                    <p><strong>Objective:</strong> ${response.objective}</p>
                    
                    <h5>Optimal Synthesis Conditions:</h5>
                    <ul>
                        <li>Cs-Br: ${conditions.cs_br_concentration.toFixed(2)} mol/L</li>
                        <li>Pb-Br‚ÇÇ: ${conditions.pb_br2_concentration.toFixed(2)} mol/L</li>
                        <li>Temperature: ${conditions.temperature.toFixed(0)}¬∞C</li>
                        <li>Oleic Acid: ${conditions.oa_concentration.toFixed(2)} mol/L</li>
                        <li>Oleylamine: ${conditions.oam_concentration.toFixed(2)} mol/L</li>
                        <li>Reaction Time: ${conditions.reaction_time.toFixed(0)} minutes</li>
                        <li>Solvent: ${['DMSO', 'DMF', 'Toluene', 'Octadecene', 'Mixed'][conditions.solvent_type]}</li>
                    </ul>
                    
                    <h5>Expected Outcome:</h5>
                    <p><strong>Phase:</strong> ${prediction.predicted_phase}</p>
                    <p><strong>Confidence:</strong> ${(prediction.confidence * 100).toFixed(1)}%</p>
                    
                    <button class="btn" onclick="copyOptimalConditions()">üìã Copy to Prediction Tab</button>
                </div>
            `;
            
            $('#optimization-results').html(html);
        }

        function copyOptimalConditions() {
            // This would copy the optimal conditions to the prediction tab
            alert('Optimal conditions copied! Check the prediction tab.');
        }

        function loadValidationPlots() {
            $('#validation-plots').html('<p class="loading">Generating validation plots...</p>');
            
            $.ajax({
                url: '/validation_plots',
                method: 'GET',
                success: function(response) {
                    if (response.success) {
                        $('#validation-plots').html(`
                            <div class="validation-plot">
                                <img src="data:image/png;base64,${response.plot_data}" alt="Validation Plots">
                            </div>
                        `);
                    } else {
                        $('#validation-plots').html('<div class="error">Error generating plots: ' + response.error + '</div>');
                    }
                },
                error: function() {
                    $('#validation-plots').html('<div class="error">Network error occurred</div>');
                }
            });
        }

        function loadValidationStatus() {
            $.ajax({
                url: '/validation_status',
                method: 'GET',
                success: function(response) {
                    if (response.success && response.status.validation_metrics) {
                        const metrics = response.status.validation_metrics;
                        $('#total-experiments').text(metrics.total_experiments);
                        $('#phase-accuracy').text(metrics.phase_accuracy.toFixed(1) + '%');
                        $('#mean-confidence').text(metrics.mean_confidence.toFixed(2));
                    }
                }
            });
        }

        function recordExperiment() {
            const conditions = {
                cs_concentration: $('#record-cs-concentration').val(),
                pb_concentration: $('#record-pb-concentration').val(),
                temperature: $('#record-temperature').val(),
                oa_concentration: $('#record-oa-concentration').val(),
                oam_concentration: $('#record-oam-concentration').val(),
                reaction_time: $('#record-reaction-time').val(),
                solvent_type: $('#record-solvent-type').val()
            };

            const results = {
                dominant_phase: $('#dominant-phase').val(),
                phase_purity: $('#phase-purity').val(),
                synthesis_success: $('#synthesis-success').val() === 'true',
                solution_color: $('#solution-color').val(),
                characterization_methods: ['XRD'] // Default
            };

            // Add optional measurements
            if ($('#bandgap').val()) results.bandgap = $('#bandgap').val();
            if ($('#plqy').val()) results.plqy = $('#plqy').val();
            if ($('#particle-size').val()) results.particle_size = $('#particle-size').val();
            if ($('#emission-peak').val()) results.emission_peak = $('#emission-peak').val();

            const data = {
                researcher: $('#researcher-name').val(),
                conditions: conditions,
                results: results,
                notes: $('#experiment-notes').val()
            };

            $.ajax({
                url: '/record_experiment',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(response) {
                    if (response.success) {
                        alert('Experiment recorded successfully! ID: ' + response.experiment_id);
                        // Clear form
                        $('#record-tab input, #record-tab select, #record-tab textarea').val('');
                        // Refresh validation status
                        loadValidationStatus();
                    } else {
                        alert('Error recording experiment: ' + response.error);
                    }
                },
                error: function() {
                    alert('Network error occurred');
                }
            });
        }
    </script>
</body>
</html>
    